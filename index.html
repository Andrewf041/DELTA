<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DELTA</title>

<style>
:root{
  --bg:#050807;--panel:#0b1a14;--ink:#c8ffe0;
  --accent:#00ff9c;--dim:#0f3d2e;
}
*{box-sizing:border-box}
body{
  margin:0;height:100vh;
  background:radial-gradient(circle at top,#0f3d2e,var(--bg));
  color:var(--ink);
  font-family:system-ui,Arial,sans-serif;
  display:flex;flex-direction:column;
}
header{
  padding:14px;
  display:flex;align-items:center;justify-content:center;gap:10px;
  background:linear-gradient(180deg,#0f3d2e,var(--panel));
}
.logo svg line{stroke:var(--accent);stroke-width:2}
#chat{flex:1;padding:14px;overflow-y:auto}
.msg{margin-bottom:12px}
.user{color:#7affc2}
.delta{color:var(--accent)}
footer{padding:12px;background:#050807}
input{
  width:100%;padding:14px;font-size:16px;
  border-radius:12px;border:1px solid var(--dim);
  background:#020504;color:var(--ink);
}
</style>
</head>

<body>

<header>
<div class="logo">
<svg viewBox="0 0 100 100" width="26">
<line x1="50" y1="10" x2="90" y2="80"/>
<line x1="90" y1="80" x2="10" y2="80"/>
<line x1="10" y1="80" x2="50" y2="10"/>
</svg>
</div>
<div style="letter-spacing:.3em">DELTA</div>
</header>

<div id="chat"></div>

<footer>
<input id="input" placeholder="Скажи или напиши…" />
</footer>

<script>
// ===== НАСТРОЙКА ИИ =====
const AI_ENABLED = true; // ← поставь true, если есть ключ
const OPENAI_API_KEY = "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";

// ===== UI =====
const chat=document.getElementById("chat");
const input=document.getElementById("input");

function add(text,cls){
  const d=document.createElement("div");
  d.className="msg "+cls;
  d.textContent=text;
  chat.appendChild(d);
  chat.scrollTop=chat.scrollHeight;
  if(cls==="delta") speak(text);
}

// ===== ГОЛОС (ОТВЕТ) =====
function speak(text){
  const u=new SpeechSynthesisUtterance(text);
  u.lang="ru-RU";
  u.pitch=0.6;
  speechSynthesis.speak(u);
}

// ===== ГОЛОС (ВВОД) =====
if("webkitSpeechRecognition"in window){
  const rec=new webkitSpeechRecognition();
  rec.lang="ru-RU";
  rec.onresult=e=>{
    input.value=e.results[0][0].transcript;
  };
  input.addEventListener("touchstart",()=>rec.start());
}

// ===== ИИ =====
async function askAI(q){
  if(!AI_ENABLED) return "ИИ не подключён.";
  const r=await fetch("https://api.openai.com/v1/chat/completions",{
    method:"POST",
    headers:{
      "Content-Type":"application/json",
      "Authorization":"Bearer "+OPENAI_API_KEY
    },
    body:JSON.stringify({
      model:"gpt-4o-mini",
      messages:[{role:"user",content:q}]
    })
  });
  const j=await r.json();
  return j.choices[0].message.content;
}

// ===== ЛОГИКА =====
add("DELTA: Инициализация завершена.","delta");

input.addEventListener("keydown",async e=>{
  if(e.key==="Enter"&&input.value.trim()){
    const t=input.value.trim();
    input.value="";
    add("Ты: "+t,"user");

    const answer=await askAI(t);
    add("DELTA: "+answer,"delta");
  }
});
</script>

</body>
</html>

